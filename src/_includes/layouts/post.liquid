---
layout: layouts/base.liquid
---

<article class="blog-post">
  <header class="post-header">
    <h1 class="post-title">{{ title }}</h1>
    <p class="post-date">{{ date | readableDate }}</p>

    {% if enclosure and enclosure.url %}
      <div class="audio-player">
        <audio id="player" controls>
          <source src="{{ enclosure.url }}" type="{{ enclosure.type | default: 'audio/mpeg' }}">
          Your browser does not support the audio element.
        </audio>
      </div>
    {% endif %}
  </header>

  <section class="post-content">
    {{ content }}
  </section>

  {% include "partials/tags.liquid", label: "tags", prefix: "tag", values: tags %}
  {% include "partials/tags.liquid", label: "categories", prefix: "category", values: categories %}
</article>

<nav class="post-navigation">
  <div>
    {% if collections.blog %}
      {% assign previousPost = collections.blog | getPreviousCollectionItem: page %}
      {% if previousPost %}
        <a href="{{ previousPost.url }}" rel="prev">← {{ previousPost.data.title }}</a>
      {% endif %}
    {% endif %}
  </div>
  <div>
    {% if collections.blog %}
      {% assign nextPost = collections.blog | getNextCollectionItem: page %}
      {% if nextPost %}
        <a href="{{ nextPost.url }}" rel="next">{{ nextPost.data.title }} →</a>
      {% endif %}
    {% endif %}
  </div>
</nav>

{% if enclosure and enclosure.url %}
<script src="/js/plyr.js"></script>
<link rel="stylesheet" href="/css/plyr.css">
<script>
  const player = new Plyr('#player', {
    controls: ['play', 'progress', 'current-time', 'duration', 'mute', 'volume', 'download']
  });
</script>
{% endif %}
