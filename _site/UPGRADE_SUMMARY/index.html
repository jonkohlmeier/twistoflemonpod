<h1 id="gatsby-2025-best-practices-upgrade-summary" tabindex="-1">Gatsby 2025 Best Practices Upgrade Summary</h1>
<h2 id="completed-updates-%E2%9C%85" tabindex="-1">Completed Updates ‚úÖ</h2>
<h3 id="1.-node.js-version-management" tabindex="-1">1. Node.js Version Management</h3>
<ul>
<li><strong>Added <code>.nvmrc</code></strong> file with Node.js v22.21.0 (latest LTS - &quot;Jod&quot;)</li>
<li>GitHub workflows now use <code>.nvmrc</code> for consistent Node.js version across all environments</li>
</ul>
<h3 id="2.-gatsby-and-dependencies" tabindex="-1">2. Gatsby and Dependencies</h3>
<ul>
<li><strong>Gatsby</strong>: Updated from v5.11.0 ‚Üí v5.15.0 (latest stable)</li>
<li><strong>React</strong>: Updated from v18.0.0 ‚Üí v18.3.1 (latest stable v18)</li>
<li><strong>All Gatsby plugins</strong>: Updated to v5.15.0 or v6.15.0 (latest compatible versions)</li>
<li><strong>Prettier</strong>: Updated from v2.3.2 ‚Üí v3.4.2 (latest)</li>
<li><strong>PrismJS</strong>: Updated from v1.24.1 ‚Üí v1.30.0 (latest)</li>
</ul>
<h3 id="3.-modern-plugin-replacements" tabindex="-1">3. Modern Plugin Replacements</h3>
<ul>
<li>‚úÖ <strong>Removed deprecated <code>gatsby-image</code></strong> ‚Üí Migrated to <code>gatsby-plugin-image</code> (modern API)
<ul>
<li>Updated Bio.jsx component to use new GatsbyImage component</li>
<li>Updated GraphQL query to use <code>gatsbyImageData</code> instead of <code>fixed</code></li>
</ul>
</li>
<li>‚úÖ <strong>Replaced <code>gatsby-plugin-google-analytics</code></strong> with <code>gatsby-plugin-google-gtag</code> (current recommended analytics plugin)</li>
</ul>
<h3 id="4.-github-actions-improvements" tabindex="-1">4. GitHub Actions Improvements</h3>
<ul>
<li>
<p><strong>Updated <code>build-and-deploy.yml</code></strong>:</p>
<ul>
<li>actions/checkout: v2 ‚Üí v4</li>
<li>actions/setup-node: v1 ‚Üí v4</li>
<li>JamesIves/github-pages-deploy-action: v3 ‚Üí v4</li>
<li>Now uses <code>.nvmrc</code> for Node.js version</li>
<li>Added npm caching for faster builds</li>
<li>Removed incorrect <code>PUBLIC_PATH</code> environment variable</li>
<li>Removed deprecated <code>SINGLE_COMMIT</code> option</li>
</ul>
</li>
<li>
<p><strong>Added <code>build-validation.yml</code></strong> workflow:</p>
<ul>
<li>Runs on all pull requests</li>
<li>Validates build succeeds</li>
<li>Runs Prettier format check</li>
<li>Ensures code quality before merging</li>
</ul>
</li>
</ul>
<h3 id="5.-build-%26-test-results" tabindex="-1">5. Build &amp; Test Results</h3>
<ul>
<li>‚úÖ Site builds successfully in ~35 seconds</li>
<li>‚úÖ All pages render correctly (718 pages)</li>
<li>‚úÖ Code formatted with Prettier v3</li>
</ul>
<h2 id="known-issues-%26-recommendations-%F0%9F%94%8D" tabindex="-1">Known Issues &amp; Recommendations üîç</h2>
<h3 id="1.-security-vulnerabilities-(low-priority)" tabindex="-1">1. Security Vulnerabilities (Low Priority)</h3>
<p><strong>Status</strong>: 32 vulnerabilities (26 low, 3 moderate, 3 high)</p>
<p><strong>Details</strong>:</p>
<ul>
<li>Most vulnerabilities are in Gatsby core dependencies (Parcel, workbox, cookie, tmp, lodash.template)</li>
<li>These are transitive dependencies we cannot directly fix</li>
<li>Fixing would require either:
<ul>
<li>Waiting for Gatsby to update their dependencies</li>
<li>Downgrading to Gatsby v3 (not recommended - breaks other features)</li>
</ul>
</li>
</ul>
<p><strong>Recommendation</strong>:</p>
<ul>
<li>These vulnerabilities pose minimal risk for a static site generator</li>
<li>Monitor Gatsby releases for updates that address these issues</li>
<li>The site is statically generated, so runtime vulnerabilities have limited impact</li>
</ul>
<h3 id="2.-google-analytics-tracking-id" tabindex="-1">2. Google Analytics Tracking ID</h3>
<p><strong>Status</strong>: Needs Configuration</p>
<p>The Google Analytics tracking ID is still set to placeholder:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token literal-property property">trackingIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ADD YOUR TRACKING ID HERE</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span></code></pre>
<p><strong>Recommendation</strong>: Replace with actual GA4 tracking ID (format: <code>G-XXXXXXXXXX</code>)</p>
<h3 id="3.-offline-plugin-(optional)" tabindex="-1">3. Offline Plugin (Optional)</h3>
<p><strong>Status</strong>: Currently Commented Out</p>
<p>The <code>gatsby-plugin-offline</code> is commented out in <code>gatsby-config.js</code>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// `gatsby-plugin-offline`,</span></code></pre>
<p><strong>Recommendation</strong>:</p>
<ul>
<li>If you want Progressive Web App (PWA) functionality, uncomment this plugin</li>
<li>PWA allows the site to work offline after first visit</li>
<li>Consider enabling for better mobile experience</li>
</ul>
<h3 id="4.-deprecated-graphql-syntax-warnings" tabindex="-1">4. Deprecated GraphQL Syntax Warnings</h3>
<p><strong>Status</strong>: Non-Critical Warnings</p>
<p>Build shows warnings about deprecated GraphQL sort/aggregation syntax:</p>
<pre><code>warning Deprecated syntax of sort and/or aggregation field arguments were found in your query
</code></pre>
<p><strong>Details</strong>: The queries are automatically converted to new syntax, so functionality is not affected.</p>
<p><strong>Recommendation</strong>:</p>
<ul>
<li>Update GraphQL queries in templates to use new syntax to remove warnings</li>
<li>This is cosmetic and doesn't affect functionality</li>
</ul>
<h3 id="5.-react-19-consideration" tabindex="-1">5. React 19 Consideration</h3>
<p><strong>Status</strong>: Not Upgraded</p>
<p>React v19 was released recently but Gatsby v5.15 doesn't officially support it yet.</p>
<p><strong>Recommendation</strong>:</p>
<ul>
<li>Stay on React 18.3.1 (current stable) until Gatsby officially supports React 19</li>
<li>Monitor Gatsby releases for React 19 support announcement</li>
</ul>
<h3 id="6.-test-suite" tabindex="-1">6. Test Suite</h3>
<p><strong>Status</strong>: No Tests Implemented</p>
<p>Current test script just echoes a message:</p>
<pre class="language-json"><code class="language-json"><span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Write tests! -> https://gatsby.dev/unit-testing\" &amp;&amp; exit 1"</span></code></pre>
<p><strong>Recommendation</strong>:</p>
<ul>
<li>Consider adding Jest + React Testing Library for component tests</li>
<li>Add tests for critical components (Bio, BlogIndex, blog templates)</li>
<li>This would make the build validation workflow more robust</li>
</ul>
<h3 id="7.-typescript-support" tabindex="-1">7. TypeScript Support</h3>
<p><strong>Status</strong>: Minimal Usage</p>
<p>Only one TypeScript file exists: <code>src/pages/using-typescript.tsx</code></p>
<p><strong>Recommendation</strong>:</p>
<ul>
<li>If planning to use TypeScript more extensively, consider:
<ul>
<li>Adding <code>tsconfig.json</code></li>
<li>Converting more components to TypeScript</li>
<li>Adding type definitions for better IDE support</li>
</ul>
</li>
<li>If not using TypeScript, this single file can remain as-is</li>
</ul>
<h2 id="best-practices-now-in-place-%E2%9C%A8" tabindex="-1">Best Practices Now in Place ‚ú®</h2>
<ol>
<li>‚úÖ <strong>Version Pinning</strong>: Using <code>.nvmrc</code> ensures consistent Node.js version</li>
<li>‚úÖ <strong>Modern Image Handling</strong>: Using gatsby-plugin-image for optimized, modern image formats</li>
<li>‚úÖ <strong>Updated Analytics</strong>: Using gatsby-plugin-google-gtag (supports GA4)</li>
<li>‚úÖ <strong>CI/CD Validation</strong>: Build validation on PRs prevents breaking changes</li>
<li>‚úÖ <strong>Modern GitHub Actions</strong>: Using latest action versions with caching</li>
<li>‚úÖ <strong>Code Formatting</strong>: Latest Prettier ensures consistent code style</li>
<li>‚úÖ <strong>Latest Dependencies</strong>: All dependencies updated to latest compatible versions</li>
</ol>
<h2 id="next-steps-suggestions-%F0%9F%93%9D" tabindex="-1">Next Steps Suggestions üìù</h2>
<ol>
<li><strong>Immediate</strong>: Add your Google Analytics tracking ID</li>
<li><strong>Optional</strong>: Enable offline plugin if PWA functionality is desired</li>
<li><strong>Future</strong>: Consider migrating to Gatsby 6 when it's released (Q1 2026 expected)</li>
<li><strong>Future</strong>: Add test suite for better code quality assurance</li>
<li><strong>Future</strong>: Update GraphQL queries to remove deprecation warnings</li>
</ol>
<h2 id="files-modified" tabindex="-1">Files Modified</h2>
<ul>
<li><code>.nvmrc</code> (new)</li>
<li><code>.github/workflows/build-and-deploy.yml</code> (updated)</li>
<li><code>.github/workflows/build-validation.yml</code> (new)</li>
<li><code>package.json</code> (updated dependencies)</li>
<li><code>package-lock.json</code> (regenerated)</li>
<li><code>gatsby-config.js</code> (updated plugins)</li>
<li><code>src/components/Bio.jsx</code> (migrated to gatsby-plugin-image)</li>
<li>Multiple files reformatted by Prettier</li>
</ul>
<h2 id="resources" tabindex="-1">Resources</h2>
<ul>
<li><a href="https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v4-to-v5/">Gatsby 5 Migration Guide</a></li>
<li><a href="https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-plugin-image/">gatsby-plugin-image Documentation</a></li>
<li><a href="https://www.gatsbyjs.com/docs/conceptual/best-practices/">Gatsby Best Practices</a></li>
<li><a href="https://github.com/nodejs/release#release-schedule">Node.js LTS Schedule</a></li>
</ul>
